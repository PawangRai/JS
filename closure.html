<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Closure in Javascript</title>
</head>
<body style="background-color: #212121;">
    <button id="orange">Orange</button>
    <button id="green">Green</button>
    
</body>
<script>
    // Lexical scoping refers to when inner functions have access to the context of it's parent functions
    function outer(){
        let username = "Pawang"
        // console.log("OUTER",secret); -> This is not accessible here
        function inner(){
            let secret = "my123" // -> This is only accessible here and inside it's inner functions
            console.log("INNER", username);
        }
        function innerTwo(){
            console.log("INNER2",username);
            // console.log(secret); -> This is not accessible here
        }
        inner()
        innerTwo()
    }
    outer()
    // console.log("TOO OUTER", username); -> This is not accessible here

    // Now let's see about closures.

</script>
<script>
    // document.getElementById("orange").onclick = function(){
    //     document.body.style.backgroundColor = "orange"
    // }
    // document.getElementById("green").onclick = function(){
    //     document.body.style.backgroundColor = "green"
    // }


    function clickHandler(color){
        // document.body.style.backgroundColor = `${color}`

        return function(){
            document.body.style.backgroundColor = `${color}`
        }
    }

    document.getElementById("orange").onclick = clickHandler("orange") // When we do this, it automatically turns the background orange without clicking the button.
    document.getElementById("green").onclick = clickHandler("green") // This turns the background green and if we click orange, it does not change it to orange. 

    // The above two lines are being directly executed, instead of being onclick

    // The problem is that the onclick expects a function, but we are executing a function there, so in order to fix it, we need to return a function from the clickHandler function

    // closure allows functions to remember and access their outer scope even after execution. Here when we return a function which is accessing the color property, that color property is from the outer function, but because functions remember their outer lexical scope so when we pass 
</script>
</html>